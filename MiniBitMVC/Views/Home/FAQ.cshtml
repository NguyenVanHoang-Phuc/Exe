@{
    ViewData["Title"] = "Trợ giúp";
}

<div class="container-xl my-5">
    <!-- Tabs -->
    <ul class="nav nav-pills mb-4 help-tabs justify-content-center" id="helpTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active"
                    id="tab-faq"
                    data-bs-toggle="tab"
                    data-bs-target="#pane-faq"
                    type="button" role="tab"
                    aria-controls="pane-faq"
                    aria-selected="true">
                <i class="fas fa-question-circle me-2"></i>FAQ
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link"
                    id="tab-contact"
                    data-bs-toggle="tab"
                    data-bs-target="#pane-contact"
                    type="button" role="tab"
                    aria-controls="pane-contact"
                    aria-selected="false">
                <i class="fas fa-envelope me-2"></i>Liên hệ
            </button>
        </li>
    </ul>

    <!-- Alert success -->
    <div id="helpSuccess" class="alert alert-success rounded-3 shadow-sm d-none text-center fw-semibold" role="alert">
        <i class="fas fa-check-circle me-2"></i>
        Đã gửi phản hồi! Cảm ơn bạn đã liên hệ MiniBit.
    </div>

    <div class="tab-content" id="helpTabsContent">
        <!-- FAQ -->
        <div class="tab-pane fade show active" id="pane-faq" role="tabpanel" aria-labelledby="tab-faq" tabindex="0">
            <div class="help-card mx-auto">
                <div class="card-header">
                    <i class="fas fa-question-circle me-2"></i> Câu hỏi thường gặp (FAQ)
                </div>
                <div class="card-body p-4">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="q1">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1">
                                    Làm sao để thêm một chi tiêu mới?
                                </button>
                            </h2>
                            <div id="a1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Vào tab <b>Chi tiêu</b> → Nhấn <b>Thêm chi tiêu</b> → Điền thông tin.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="q2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2">
                                    Tôi có thể đổi đơn vị tiền tệ mặc định không?
                                </button>
                            </h2>
                            <div id="a2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Có. Vào <b>Profile</b> → <b>Thông tin tài chính</b> để chọn VNĐ, USD, …
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="q3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a3">
                                    Premium khác gì bản thường?
                                </button>
                            </h2>
                            <div id="a3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Premium có AI cố vấn chi tiêu, báo cáo thông minh và cảnh báo ngân sách.
                                </div>
                            </div>
                        </div>

                        <!-- thêm FAQ khác -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Liên hệ -->
        <div class="tab-pane fade" id="pane-contact" role="tabpanel" aria-labelledby="tab-contact" tabindex="0">
            <div class="help-card mx-auto">
                <div class="card-header">
                    <i class="fas fa-envelope me-2"></i> Liên hệ & Góp ý
                </div>
                <div class="card-body p-4">
                    <form id="helpForm" novalidate>
                        <div class="mb-3">
                            <label class="form-label" for="fullName">Họ tên</label>
                            <input type="text" id="fullName" name="fullName" class="form-control form-control-lg" placeholder="Nguyễn Văn A" required minlength="2">
                            <div class="invalid-feedback">Vui lòng nhập Họ tên.</div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="email">Email</label>
                            <input type="email" id="email" name="email" class="form-control form-control-lg" placeholder="you@example.com" required>
                            <div class="invalid-feedback">Vui lòng nhập Email hợp lệ.</div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="message">Nội dung</label>
                            <textarea id="message" name="message" class="form-control form-control-lg" rows="5" placeholder="Nhập góp ý hoặc vấn đề bạn gặp phải..." required></textarea>
                            <div class="invalid-feedback">Vui lòng nhập Nội dung.</div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            <i class="fas fa-paper-plane me-2"></i> Gửi phản hồi
                        </button>
                    </form>

                    <hr class="my-4">

                    <div class="text-muted small">
                        <p class="mb-1"><i class="fas fa-headset me-2 text-primary"></i> Hotline: <b>0123 456 789</b></p>
                        <p class="mb-0"><i class="fas fa-envelope me-2 text-primary"></i> Email: <b>support@minibit.vn</b></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Mock submit
        const form = document.getElementById('helpForm');
        const successEl = document.getElementById('helpSuccess');
        form.addEventListener('submit', e => {
            e.preventDefault();
            if (!form.checkValidity()) {
                form.classList.add('was-validated');
                return;
            }
            successEl.classList.remove('d-none');
            form.reset();
            form.classList.remove('was-validated');
            successEl.scrollIntoView({behavior: 'smooth', block: 'center'});
        });
    </script>
}

<style>
    /* Tabs đẹp hơn */
    .help-tabs .nav-link {
        border-radius: 999px;
        padding: .75rem 1.5rem;
        font-weight: 600;
        font-size: 1.05rem;
    }

        .help-tabs .nav-link.active {
            background: #6f42c1;
        }

    /* Card rộng thoáng */
    .help-card {
        background: #fff;
        border: 0;
        border-radius: 1.25rem;
        box-shadow: 0 10px 40px rgba(111,66,193,.15);
        max-width: 900px;
    }

        .help-card .card-header {
            background: linear-gradient(90deg, rgba(111,66,193,.15), rgba(111,66,193,.05));
            font-weight: 700;
            font-size: 1.1rem;
            padding: 1.25rem 1.5rem;
            border: 0;
        }

    .form-control-lg, .btn-lg {
        border-radius: .75rem;
    }

    .accordion-button {
        font-weight: 500;
    }
</style>
